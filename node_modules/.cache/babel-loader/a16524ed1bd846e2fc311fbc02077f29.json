{"remainingRequest":"/Users/francescacitter/Documents/Progetti/practiceBeerGallery/node_modules/babel-loader/lib/index.js!/Users/francescacitter/Documents/Progetti/practiceBeerGallery/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/francescacitter/Documents/Progetti/practiceBeerGallery/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescacitter/Documents/Progetti/practiceBeerGallery/src/components/BeerGallery.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/francescacitter/Documents/Progetti/practiceBeerGallery/src/components/BeerGallery.vue","mtime":1539876542433},{"path":"/Users/francescacitter/Documents/Progetti/practiceBeerGallery/node_modules/cache-loader/dist/cjs.js","mtime":1539866589772},{"path":"/Users/francescacitter/Documents/Progetti/practiceBeerGallery/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/francescacitter/Documents/Progetti/practiceBeerGallery/node_modules/cache-loader/dist/cjs.js","mtime":1539866589772},{"path":"/Users/francescacitter/Documents/Progetti/practiceBeerGallery/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Vue } from \"vue-property-decorator\";\nimport BootstrapVue from \"bootstrap-vue\";\nimport SyncLoader from 'vue-spinner/src/SyncLoader.vue';\nimport { Validator } from 'vee-validate';\nimport { mapMutations, mapState, mapGetters } from 'vuex';\nexport default {\n  components: {\n    SyncLoader: SyncLoader\n  },\n  data: function data() {\n    return {\n      inputValue: '',\n      selected: null,\n      options: [{\n        value: null,\n        text: 'Please select an option',\n        disabled: true\n      }, {\n        value: 'abv_lt',\n        text: 'Returns all beers with ABV less than the supplied number'\n      }, {\n        value: 'ibu_lt',\n        text: 'Returns all beers with IBU less than the supplied number'\n      }, {\n        value: 'ebc:lt',\n        text: 'Returns all beers with EBC less than the supplied number'\n      }, {\n        value: 'beer_name',\n        text: 'Returns all beers matching the supplied name'\n      }],\n      galleryBeers: [],\n      selectedBeera: {},\n      loading: false,\n      isSubmitted: false,\n      beers: []\n    };\n  },\n  computed: {// ...mapGetters({\n    //     beers: 'getBeers',\n    // })\n  },\n  methods: {\n    setSelected: function setSelected(beer) {\n      this.selectedBeera = beer;\n    },\n    showModal: function showModal() {\n      this.$refs.myModalRef.show();\n    },\n    hideModal: function hideModal() {\n      this.$refs.myModalRef.hide();\n    },\n    filterArray: function filterArray(filterType, inputValue) {\n      var _this = this;\n\n      // if (!this.inputValue | !this.selected) return alert(\"Please, select and option and type a value\")\n      this.isSubmitted = true;\n      this.$validator.validate().then(function (valid) {\n        console.log(valid);\n\n        if (valid) {\n          _this.loading = true;\n          console.log(\"entrata in filter array\");\n          console.log(_this.inputValue, _this.filterType);\n\n          _this.axios.get(\"https://api.punkapi.com/v2/beers?\".concat(filterType, \"=\").concat(inputValue)).then(function (res) {\n            return res.data;\n          }).then(function (res) {\n            console.log(filterType, \"filtrato\");\n            console.log(res, \"chiamata get filtrata\");\n            _this.beers = res;\n          }).finally(function () {\n            _this.loading = false;\n          });\n\n          console.log(\"arriva qui?\");\n          _this.inputValue = '';\n          console.log(_this.inputValue, 'inputvalue');\n          _this.selected = null;\n          _this.isSubmitted = false;\n        }\n      });\n    },\n    addToFav: function addToFav() {},\n    // created() {\n    //     this.$store.dispatch('getBeerData')\n    // },\n    created: function created() {\n      var _this2 = this;\n\n      this.axios.get(\"https://api.punkapi.com/v2/beers?page=2&per_page=80\").then(function (res) {\n        return res.data;\n      }).then(function (res) {\n        console.log(res, \"chiamata get normale\");\n        _this2.beers = res;\n      });\n    }\n  }\n};",{"version":3,"sources":["BeerGallery.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,SACA,GADA,QAEA,wBAFA;AAGA,OAAA,YAAA,MAAA,eAAA;AACA,OAAA,UAAA,MAAA,gCAAA;AACA,SACA,SADA,QAEA,cAFA;AAGA,SACA,YADA,EAEA,QAFA,EAGA,UAHA,QAIA,MAJA;AAMA,eAAA;AACA,cAAA;AACA;AADA,GADA;AAIA,QAAA;AAAA,WAAA;AACA,kBAAA,EADA;AAEA,gBAAA,IAFA;AAGA,eAAA,CAAA;AACA,eAAA,IADA;AAEA,cAAA,yBAFA;AAGA,kBAAA;AAHA,OAAA,EAKA;AACA,eAAA,QADA;AAEA,cAAA;AAFA,OALA,EASA;AACA,eAAA,QADA;AAEA,cAAA;AAFA,OATA,EAaA;AACA,eAAA,QADA;AAEA,cAAA;AAFA,OAbA,EAiBA;AACA,eAAA,WADA;AAEA,cAAA;AAFA,OAjBA,CAHA;AAyBA,oBAAA,EAzBA;AA0BA,qBAAA,EA1BA;AA2BA,eAAA,KA3BA;AA4BA,mBAAA,KA5BA;AA6BA,aAAA;AA7BA,KAAA;AAAA,GAJA;AAoCA,YAAA,CACA;AACA;AACA;AAHA,GApCA;AAyCA,WAAA;AACA,eADA,uBACA,IADA,EACA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAHA;AAIA,aAJA,uBAIA;AACA,WAAA,KAAA,CAAA,UAAA,CAAA,IAAA;AACA,KANA;AAOA,aAPA,uBAOA;AACA,WAAA,KAAA,CAAA,UAAA,CAAA,IAAA;AACA,KATA;AAWA,eAXA,uBAWA,UAXA,EAWA,UAXA,EAWA;AAAA;;AACA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,UAAA,CAAA,QAAA,GAAA,IAAA,CAAA,iBAAA;AACA,gBAAA,GAAA,CAAA,KAAA;;AACA,YAAA,KAAA,EAAA;AAEA,gBAAA,OAAA,GAAA,IAAA;AAEA,kBAAA,GAAA,CAAA,yBAAA;AACA,kBAAA,GAAA,CAAA,MAAA,UAAA,EAAA,MAAA,UAAA;;AACA,gBAAA,KAAA,CACA,GADA,4CACA,UADA,cACA,UADA,GAEA,IAFA,CAEA;AAAA,mBAAA,IAAA,IAAA;AAAA,WAFA,EAGA,IAHA,CAGA,eAAA;AACA,oBAAA,GAAA,CAAA,UAAA,EAAA,UAAA;AACA,oBAAA,GAAA,CAAA,GAAA,EAAA,uBAAA;AACA,kBAAA,KAAA,GAAA,GAAA;AACA,WAPA,EAQA,OARA,CAQA,YAAA;AACA,kBAAA,OAAA,GAAA,KAAA;AACA,WAVA;;AAWA,kBAAA,GAAA,CAAA,aAAA;AACA,gBAAA,UAAA,GAAA,EAAA;AACA,kBAAA,GAAA,CAAA,MAAA,UAAA,EAAA,YAAA;AACA,gBAAA,QAAA,GAAA,IAAA;AACA,gBAAA,WAAA,GAAA,KAAA;AAEA;AACA,OA1BA;AA2BA,KAzCA;AA0CA,YA1CA,sBA0CA,CAAA,CA1CA;AA2CA;AACA;AACA;AACA,WA9CA,qBA8CA;AAAA;;AACA,WAAA,KAAA,CACA,GADA,CACA,qDADA,EAEA,IAFA,CAEA;AAAA,eAAA,IAAA,IAAA;AAAA,OAFA,EAGA,IAHA,CAGA,eAAA;AACA,gBAAA,GAAA,CAAA,GAAA,EAAA,sBAAA;AACA,eAAA,KAAA,GAAA,GAAA;AACA,OANA;AAQA;AAvDA;AAzCA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class=\"text-container\">\n            <h3>Our flavoured beer gallery!</h3>\n            <p>Wanna narrow down your selection? No probs..Filter it down!</p>\n    \n            <div>\n                <b-form-select v-validate=\"{required: true}\" name=\"myinput\" v-model=\"selected\" :options=\"options\" class=\"mb-3\" />\n                <span v-if=\"isSubmitted && errors.first('myinput')\">\n                                                                    Please, select an option from the above list</span>\n                <!-- {{errors.has('myinput')}} {{isSubmitted}} -->\n            </div>\n            <br>\n            <b-input-group size=\"sm\">\n                <b-form-input v-validate=\"{required: true, alpha_num: true}\" name=\"required_field\" @keydown.enter.native=\"filterArray(selected,InputValue)\" placeholder=\"type here a value\" v-model=\"inputValue\"></b-form-input>\n                <div>\n                    <b-button class=\"btn btn-primary button\" size=\"sm\" variant=\"outline-success\" @click.prevent=\"filterArray(selected,inputValue)\"> enter </b-button>\n                </div>\n                <br>\n            </b-input-group>\n            <span v-if=\"isSubmitted && errors.first('required_field')\"> Please, type a valid number</span>\n        </div>\n        <div class=\"sync-wrapper\" v-if=\"loading\">\n            <sync-loader class=\"loader\" :loading=\"loading\"></sync-loader>\n        </div>\n        <div class=\"container-beers\" v-else>\n            <div class=\"card\" v-for=\"(beer, index) in beers\" :key=\"index\" :id=\"beer.id\">\n                <div @click=\"setSelected(beer)\">\n                    <b-button class=\"b-button\" @click=\"showModal\">\n                        <div class=\"img-container\">\n                            <img class=\"beer\" :src=\"beer.image_url\" alt=\"beer_image\">\n                        </div>\n                    </b-button>\n                </div>\n            </div>\n            <b-modal class=\"modale-\" header-text-variant=\"dark\" ref=\"myModalRef\" hide-footer title=\"Beer Details\">\n                <div class=\"d-block text-center\">\n                    <div class=\"beer-wrapper\">\n                        <div class=\"img-container\">\n                            <img class=\"beer\" :src=\"selectedBeera.image_url\" alt=\"beer_image\">\n                        </div>\n                        <div class=\"info-container\">\n                            <h4> {{ selectedBeera.name }} </h4>\n    \n                            <p> {{ selectedBeera.description }} </p>\n                        </div>\n                    </div>\n                </div>\n                <b-btn class=\"mt-3\" id=\"browse\" block @click=\"hideModal\">Let me browse some more</b-btn>\n                <div @click=\"addToFav\">\n                    <b-btn button-size=\"small\" class=\"mt-3\" id=\"addTo\" block @click=\"hideModal\">Add to my favourite</b-btn>\n                </div>\n            </b-modal>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {\n        Vue\n    } from \"vue-property-decorator\";\n    import BootstrapVue from \"bootstrap-vue\";\n    import SyncLoader from 'vue-spinner/src/SyncLoader.vue';\n    import {\n        Validator\n    } from 'vee-validate';\n    import {\n        mapMutations,\n        mapState,\n        mapGetters\n    } from 'vuex';\n    \n    export default {\n        components: {\n            SyncLoader\n        },\n        data: () => ({\n            inputValue: '',\n            selected: null,\n            options: [{\n                    value: null,\n                    text: 'Please select an option',\n                    disabled: true\n                },\n                {\n                    value: 'abv_lt',\n                    text: 'Returns all beers with ABV less than the supplied number'\n                },\n                {\n                    value: 'ibu_lt',\n                    text: 'Returns all beers with IBU less than the supplied number'\n                },\n                {\n                    value: 'ebc:lt',\n                    text: 'Returns all beers with EBC less than the supplied number'\n                },\n                {\n                    value: 'beer_name',\n                    text: 'Returns all beers matching the supplied name'\n                }\n            ],\n            galleryBeers: [],\n            selectedBeera: {},\n            loading: false,\n            isSubmitted: false,\n            beers: [],\n        }),\n    \n        computed: {\n            // ...mapGetters({\n            //     beers: 'getBeers',\n            // })\n        },\n        methods: {\n            setSelected(beer) {\n                this.selectedBeera = beer;\n            },\n            showModal() {\n                this.$refs.myModalRef.show();\n            },\n            hideModal() {\n                this.$refs.myModalRef.hide();\n            },\n    \n            filterArray(filterType, inputValue) {\n                // if (!this.inputValue | !this.selected) return alert(\"Please, select and option and type a value\")\n                this.isSubmitted = true;\n                this.$validator.validate().then(valid => {\n                    console.log(valid)\n                    if (valid) {\n    \n                        this.loading = true;\n    \n                        console.log(\"entrata in filter array\");\n                        console.log(this.inputValue, this.filterType)\n                        this.axios\n                            .get(`https://api.punkapi.com/v2/beers?${filterType}=${inputValue}`)\n                            .then(res => res.data)\n                            .then(res => {\n                                console.log(filterType, \"filtrato\");\n                                console.log(res, \"chiamata get filtrata\");\n                                this.beers = res;\n                            })\n                            .finally(() => {\n                                this.loading = false\n                            });\n                        console.log(\"arriva qui?\");\n                        this.inputValue = '';\n                        console.log(this.inputValue, 'inputvalue')\n                        this.selected = null;\n                        this.isSubmitted = false;\n    \n                    }\n                })\n            },\n            addToFav() {},\n            // created() {\n            //     this.$store.dispatch('getBeerData')\n            // },\n            created() {\n                this.axios\n                    .get(\"https://api.punkapi.com/v2/beers?page=2&per_page=80\")\n                    .then(res => res.data)\n                    .then(res => {\n                        console.log(res, \"chiamata get normale\");\n                        this.beers = res;\n                    });\n    \n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .text-container {\n        color: rgb(193, 3, 3);\n        width: 40%;\n        margin: 0 auto;\n        h3,\n        p {\n            color: black;\n        }\n        & h3 {\n            text-transform: uppercase;\n            margin-top: 10%;\n            margin-bottom: 5%;\n        }\n    }\n    \n    .sync-wrapper {\n        min-height: 200px;\n        .loader {\n            margin-top: 40px;\n            margin-bottom: 40px;\n        }\n    }\n    \n    .container-beers {\n        margin-top: 3%;\n        width: 100% !important;\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        align-content: space-between;\n        align-items: flex-start;\n        background-color: #faf0d8;\n        .b-button {\n            background-color: transparent !important;\n            border: none;\n            &:focus {\n                border: none;\n            }\n            &:active {\n                border: none;\n            }\n            &:hover {\n                background-color: green;\n            }\n        }\n        .card {\n            width: 20%;\n            padding: 2.5%;\n            line-height: 1.6;\n            background-color: transparent;\n            border: none;\n            &:hover {\n                background-color: rgba(0, 128, 0, 0.646);\n                opacity: 0.8;\n                border-radius: 50%;\n            }\n            &:focus {\n                border: none;\n            }\n            &.active {\n                border: none;\n            }\n            img {\n                height: 200px;\n                object-fit: contain;\n                align-self: center;\n            }\n            p {\n                text-align: center;\n                &:hover {\n                    opacity: 0.5;\n                }\n            }\n            .description-container {\n                height: 130px;\n                overflow-y: scroll;\n            }\n        }\n    }\n    \n    .beer-wrapper {\n        display: flex;\n        align-items: center;\n        color: black;\n        .img-container {\n            flex: 1;\n            .beer {\n                height: 200px;\n                object-fit: contain;\n                align-self: center;\n            }\n        }\n        .info-container {\n            flex: 2;\n        }\n    }\n    \n    .modeale- {\n        background-color: #faf0d8 !important;\n        .mt-3 {\n            #browse {\n                background-color: cadetblue !important;\n            }\n            #addTo {\n                background-color: rgb(22, 181, 22) !important;\n            }\n        }\n    }\n</style>\n\n\n\n"],"sourceRoot":"src/components"}]}